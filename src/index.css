@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
  body { @apply font-sans antialiased; }
  h1, h2, h3 { @apply font-semibold tracking-tight; }

  /* RainbowKit tokens override to better match our theme */
  [data-rk] {
    --rk-colors-accentColor: theme('colors.brand.600');
    --rk-colors-accentColorForeground: #ffffff;
    --rk-colors-modalBackground: theme('colors.ui.surface');
    --rk-colors-modalBorder: theme('colors.ui.border');
    --rk-colors-generalBorder: theme('colors.ui.border');
    --rk-radii-modal: 12px;
    --rk-radii-connectButton: 8px;
    --rk-shadows-connectButton: 0 0 0 1px theme('colors.ui.border'), 0 0 24px rgba(255,122,0,0.12);
  }
}

*:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px theme('colors.brand.500');
}

@layer components {
  .link { @apply text-brand-400 hover:underline focus:outline-none focus:ring-2 focus:ring-brand-500; }
  .skeleton {
    @apply animate-pulse bg-gray-800/70 rounded;
  }
  .btn-sm { @apply px-3 py-1 text-xs; }
  .btn-lg { @apply px-5 py-2 text-base; }
  .btn {
    @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-brand-500 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .btn-primary {
    @apply btn bg-brand-600 text-white hover:bg-brand-500;
  }
  .btn-outline {
    @apply btn border border-ui hover:bg-gray-800 dark:hover:bg-gray-800/70 text-gray-300 dark:text-gray-200;
  }
  .btn-ghost {
    @apply btn hover:bg-gray-800 text-gray-300;
  }
  .card {
    @apply rounded-xl border border-ui bg-gradient-to-br from-gray-900 to-gray-900/60 p-5 shadow-sm;
  }
  .card-muted {
    @apply rounded-md border border-ui bg-ui-surface p-3;
  }
  .kpi-card {
    @apply rounded-xl border border-ui bg-gradient-to-br from-gray-900 to-gray-900/60 p-5;
  }
  .badge {
    @apply inline-flex items-center rounded px-2 py-0.5 text-xs font-medium;
  }
  .badge-success { @apply badge bg-green-900/30 text-green-100 border border-green-700; }
  .badge-warning { @apply badge bg-yellow-900/30 text-yellow-100 border border-yellow-700; }
  .badge-error { @apply badge bg-red-900/30 text-red-100 border border-red-800; }

  .alert {
    @apply rounded-md border px-3 py-2;
  }
  .alert-success { @apply alert border-green-700 bg-green-900/30 text-green-100; }
  .alert-warning { @apply alert border-yellow-700 bg-yellow-900/30 text-yellow-100; }
  .alert-danger { @apply alert border-red-800 bg-red-900/30 text-red-100; }
}

@layer utilities {
  /* UI semantic utilities backed by theme colors */
  .border-ui { border-color: theme('colors.ui.border'); }
  .bg-ui-surface { background-color: theme('colors.ui.surface'); }
  .bg-ui-surface-muted { background-color: theme('colors.ui.surfaceMuted'); }
  .text-ui-muted { color: theme('colors.ui.textMuted'); }

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  @keyframes fade-in-up {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-in { animation: fade-in 180ms ease-out both; }
  .animate-in-up { animation: fade-in-up 180ms ease-out both; }
  .motion-press { @apply transform transition duration-150 ease-out active:scale-95; }
  .hover-pop { @apply transform transition duration-150 ease-out hover:scale-105; }
  .hover-glow { @apply transition-shadow hover:shadow-brand-glow; }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
