{
  "_format": "hh-sol-artifact-1",
  "contractName": "OracleRouter",
  "sourceName": "contracts/oracle/OracleRouter.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "admin",
          "type": "address"
        },
        {
          "internalType": "contract IOracle",
          "name": "_primary",
          "type": "address"
        },
        {
          "internalType": "contract IOracle",
          "name": "_fallback",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AccessControlBadConfirmation",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "neededRole",
          "type": "bytes32"
        }
      ],
      "name": "AccessControlUnauthorizedAccount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "previousAdminRole",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "newAdminRole",
          "type": "bytes32"
        }
      ],
      "name": "RoleAdminChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "RoleGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "RoleRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "primary",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "fallbackOracle",
          "type": "address"
        }
      ],
      "name": "UpdateAdapters",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "staleness",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "deviationBps",
          "type": "uint256"
        }
      ],
      "name": "UpdateLimits",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "DEFAULT_ADMIN_ROLE",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ROLE_ADMIN",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ROLE_KEEPER",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ROLE_ORACLE",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ROLE_PAUSER",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ROLE_RISK",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "fallbackOracle",
      "outputs": [
        {
          "internalType": "contract IOracle",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "getPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "updatedAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        }
      ],
      "name": "getRoleAdmin",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "grantRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "hasRole",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "maxDeviationBps",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "maxStaleness",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "primary",
      "outputs": [
        {
          "internalType": "contract IOracle",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "callerConfirmation",
          "type": "address"
        }
      ],
      "name": "renounceRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "revokeRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IOracle",
          "name": "_primary",
          "type": "address"
        },
        {
          "internalType": "contract IOracle",
          "name": "_fallback",
          "type": "address"
        }
      ],
      "name": "setAdapters",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "staleness",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "deviationBps",
          "type": "uint256"
        }
      ],
      "name": "setLimits",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "interfaceId",
          "type": "bytes4"
        }
      ],
      "name": "supportsInterface",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052607860015560966002553480156200001b57600080fd5b5060405162000d8338038062000d838339810160408190526200003e916200028e565b826200005a60008051602062000d63833981519152826200017b565b50620000967f73079b33c7c96c67a1fb6c710d1995195c9f4b3e62a619f237584f1bb28d0aa960008051602062000d638339815191526200022a565b620000d17f66098348ac86aa2c1efef4ea51eb3a0dd075bfeef7e5784ec740dc5b4ee760fd60008051602062000d638339815191526200022a565b6200010c7f061671c5d9c2848c4e78f3cfd7efc04c5d793e746efab769b3416aa5bbfb40cc60008051602062000d638339815191526200022a565b620001477f372d55e37651a7c6e1940a3fb8628e4b6122a3c1a8b2b70aee13e0722860456760008051602062000d638339815191526200022a565b50600380546001600160a01b039384166001600160a01b0319918216179091556004805492909316911617905550620002e2565b6000828152602081815260408083206001600160a01b038516845290915281205460ff1662000220576000838152602081815260408083206001600160a01b03861684529091529020805460ff19166001179055620001d73390565b6001600160a01b0316826001600160a01b0316847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a450600162000224565b5060005b92915050565b600082815260208190526040808220600101805490849055905190918391839186917fbd79b86ffe0ab8e8776151514217cd7cacd52c909f66475c3af44e129f0b00ff9190a4505050565b6001600160a01b03811681146200028b57600080fd5b50565b600080600060608486031215620002a457600080fd5b8351620002b18162000275565b6020850151909350620002c48162000275565b6040850151909250620002d78162000275565b809150509250925092565b610a7180620002f26000396000f3fe608060405234801561001057600080fd5b50600436106101215760003560e01c806387cf4696116100ad578063c4590d3f11610071578063c4590d3f146102af578063c6dbdf61146102c2578063d391014b146102d5578063d547741f146102fc578063f01737031461030f57600080fd5b806387cf46961461023d578063895ec75f1461024657806391d148541461026d578063a217fddf14610280578063b047eb021461028857600080fd5b806336568abe116100f457806336568abe146101a75780633ee7a701146101ba57806341976e09146101c357806342be00b8146101eb578063629838e51461021257600080fd5b806301ffc9a71461012657806302f059961461014e578063248a9ca3146101635780632f2ff15d14610194575b600080fd5b6101396101343660046108b9565b610336565b60405190151581526020015b60405180910390f35b61016161015c3660046108ff565b61036d565b005b610186610171366004610938565b60009081526020819052604090206001015490565b604051908152602001610145565b6101616101a2366004610951565b610407565b6101616101b5366004610951565b610432565b61018660025481565b6101d66101d1366004610976565b61046a565b60408051928352602083019190915201610145565b6101867f73079b33c7c96c67a1fb6c710d1995195c9f4b3e62a619f237584f1bb28d0aa981565b600454610225906001600160a01b031681565b6040516001600160a01b039091168152602001610145565b61018660015481565b6101867f061671c5d9c2848c4e78f3cfd7efc04c5d793e746efab769b3416aa5bbfb40cc81565b61013961027b366004610951565b610682565b610186600081565b6101867f372d55e37651a7c6e1940a3fb8628e4b6122a3c1a8b2b70aee13e0722860456781565b6101616102bd366004610993565b6106ab565b600354610225906001600160a01b031681565b6101867f2172861495e7b85edac73e3cd5fbb42dd675baadf627720e687bcfdaca02509681565b61016161030a366004610951565b61074d565b6101867f66098348ac86aa2c1efef4ea51eb3a0dd075bfeef7e5784ec740dc5b4ee760fd81565b60006001600160e01b03198216637965db0b60e01b148061036757506301ffc9a760e01b6001600160e01b03198316145b92915050565b7f66098348ac86aa2c1efef4ea51eb3a0dd075bfeef7e5784ec740dc5b4ee760fd61039781610772565b600380546001600160a01b038581166001600160a01b03199283168117909355600480549186169190921681179091556040805192835260208301919091527f7d27b7e87e066a099a35c09aa9ebcd5343af795f629384898a1c6e5d0f755db291015b60405180910390a1505050565b60008281526020819052604090206001015461042281610772565b61042c838361077f565b50505050565b6001600160a01b038116331461045b5760405163334bd91960e11b815260040160405180910390fd5b6104658282610811565b505050565b6003546040516341976e0960e01b81526001600160a01b03838116600483015260009283928392839216906341976e09906024016040805180830381865afa1580156104ba573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104de91906109b5565b91509150600060015482426104f391906109ef565b118015915061050757509094909350915050565b600480546040516341976e0960e01b81526001600160a01b0389811693820193909352600092839216906341976e09906024016040805180830381865afa158015610556573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061057a91906109b5565b915091506000600154824261058f91906109ef565b11159050806105cd5760405162461bcd60e51b81526020600482015260056024820152647374616c6560d81b60448201526064015b60405180910390fd5b6000861180156105dd5750600083115b1561067457600083871161061157836105f688826109ef565b61060290612710610a02565b61060c9190610a19565b610632565b8661061c85826109ef565b61062890612710610a02565b6106329190610a19565b90506002548111156106725760405162461bcd60e51b81526020600482015260096024820152683232bb34b0ba34b7b760b91b60448201526064016105c4565b505b509097909650945050505050565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b7f66098348ac86aa2c1efef4ea51eb3a0dd075bfeef7e5784ec740dc5b4ee760fd6106d581610772565b61271082111561070d5760405162461bcd60e51b815260206004820152600360248201526218985960ea1b60448201526064016105c4565b6001839055600282905560408051848152602081018490527fc2bcf5eac2e3b6d5fc30d95c85f56d5a310f3f3934e1c5d876c43f7bbd21b71e91016103fa565b60008281526020819052604090206001015461076881610772565b61042c8383610811565b61077c813361087c565b50565b600061078b8383610682565b610809576000838152602081815260408083206001600160a01b03861684529091529020805460ff191660011790556107c13390565b6001600160a01b0316826001600160a01b0316847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a4506001610367565b506000610367565b600061081d8383610682565b15610809576000838152602081815260408083206001600160a01b0386168085529252808320805460ff1916905551339286917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a4506001610367565b6108868282610682565b6108b55760405163e2517d3f60e01b81526001600160a01b0382166004820152602481018390526044016105c4565b5050565b6000602082840312156108cb57600080fd5b81356001600160e01b0319811681146108e357600080fd5b9392505050565b6001600160a01b038116811461077c57600080fd5b6000806040838503121561091257600080fd5b823561091d816108ea565b9150602083013561092d816108ea565b809150509250929050565b60006020828403121561094a57600080fd5b5035919050565b6000806040838503121561096457600080fd5b82359150602083013561092d816108ea565b60006020828403121561098857600080fd5b81356108e3816108ea565b600080604083850312156109a657600080fd5b50508035926020909101359150565b600080604083850312156109c857600080fd5b505080516020909101519092909150565b634e487b7160e01b600052601160045260246000fd5b81810381811115610367576103676109d9565b8082028115828204841417610367576103676109d9565b600082610a3657634e487b7160e01b600052601260045260246000fd5b50049056fea2646970667358221220d9d7ccce979265d95c7f65a4a81d309d4e904dff8fc27d91a0417d934f5f57ef64736f6c634300081800332172861495e7b85edac73e3cd5fbb42dd675baadf627720e687bcfdaca025096",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106101215760003560e01c806387cf4696116100ad578063c4590d3f11610071578063c4590d3f146102af578063c6dbdf61146102c2578063d391014b146102d5578063d547741f146102fc578063f01737031461030f57600080fd5b806387cf46961461023d578063895ec75f1461024657806391d148541461026d578063a217fddf14610280578063b047eb021461028857600080fd5b806336568abe116100f457806336568abe146101a75780633ee7a701146101ba57806341976e09146101c357806342be00b8146101eb578063629838e51461021257600080fd5b806301ffc9a71461012657806302f059961461014e578063248a9ca3146101635780632f2ff15d14610194575b600080fd5b6101396101343660046108b9565b610336565b60405190151581526020015b60405180910390f35b61016161015c3660046108ff565b61036d565b005b610186610171366004610938565b60009081526020819052604090206001015490565b604051908152602001610145565b6101616101a2366004610951565b610407565b6101616101b5366004610951565b610432565b61018660025481565b6101d66101d1366004610976565b61046a565b60408051928352602083019190915201610145565b6101867f73079b33c7c96c67a1fb6c710d1995195c9f4b3e62a619f237584f1bb28d0aa981565b600454610225906001600160a01b031681565b6040516001600160a01b039091168152602001610145565b61018660015481565b6101867f061671c5d9c2848c4e78f3cfd7efc04c5d793e746efab769b3416aa5bbfb40cc81565b61013961027b366004610951565b610682565b610186600081565b6101867f372d55e37651a7c6e1940a3fb8628e4b6122a3c1a8b2b70aee13e0722860456781565b6101616102bd366004610993565b6106ab565b600354610225906001600160a01b031681565b6101867f2172861495e7b85edac73e3cd5fbb42dd675baadf627720e687bcfdaca02509681565b61016161030a366004610951565b61074d565b6101867f66098348ac86aa2c1efef4ea51eb3a0dd075bfeef7e5784ec740dc5b4ee760fd81565b60006001600160e01b03198216637965db0b60e01b148061036757506301ffc9a760e01b6001600160e01b03198316145b92915050565b7f66098348ac86aa2c1efef4ea51eb3a0dd075bfeef7e5784ec740dc5b4ee760fd61039781610772565b600380546001600160a01b038581166001600160a01b03199283168117909355600480549186169190921681179091556040805192835260208301919091527f7d27b7e87e066a099a35c09aa9ebcd5343af795f629384898a1c6e5d0f755db291015b60405180910390a1505050565b60008281526020819052604090206001015461042281610772565b61042c838361077f565b50505050565b6001600160a01b038116331461045b5760405163334bd91960e11b815260040160405180910390fd5b6104658282610811565b505050565b6003546040516341976e0960e01b81526001600160a01b03838116600483015260009283928392839216906341976e09906024016040805180830381865afa1580156104ba573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104de91906109b5565b91509150600060015482426104f391906109ef565b118015915061050757509094909350915050565b600480546040516341976e0960e01b81526001600160a01b0389811693820193909352600092839216906341976e09906024016040805180830381865afa158015610556573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061057a91906109b5565b915091506000600154824261058f91906109ef565b11159050806105cd5760405162461bcd60e51b81526020600482015260056024820152647374616c6560d81b60448201526064015b60405180910390fd5b6000861180156105dd5750600083115b1561067457600083871161061157836105f688826109ef565b61060290612710610a02565b61060c9190610a19565b610632565b8661061c85826109ef565b61062890612710610a02565b6106329190610a19565b90506002548111156106725760405162461bcd60e51b81526020600482015260096024820152683232bb34b0ba34b7b760b91b60448201526064016105c4565b505b509097909650945050505050565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b7f66098348ac86aa2c1efef4ea51eb3a0dd075bfeef7e5784ec740dc5b4ee760fd6106d581610772565b61271082111561070d5760405162461bcd60e51b815260206004820152600360248201526218985960ea1b60448201526064016105c4565b6001839055600282905560408051848152602081018490527fc2bcf5eac2e3b6d5fc30d95c85f56d5a310f3f3934e1c5d876c43f7bbd21b71e91016103fa565b60008281526020819052604090206001015461076881610772565b61042c8383610811565b61077c813361087c565b50565b600061078b8383610682565b610809576000838152602081815260408083206001600160a01b03861684529091529020805460ff191660011790556107c13390565b6001600160a01b0316826001600160a01b0316847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a4506001610367565b506000610367565b600061081d8383610682565b15610809576000838152602081815260408083206001600160a01b0386168085529252808320805460ff1916905551339286917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a4506001610367565b6108868282610682565b6108b55760405163e2517d3f60e01b81526001600160a01b0382166004820152602481018390526044016105c4565b5050565b6000602082840312156108cb57600080fd5b81356001600160e01b0319811681146108e357600080fd5b9392505050565b6001600160a01b038116811461077c57600080fd5b6000806040838503121561091257600080fd5b823561091d816108ea565b9150602083013561092d816108ea565b809150509250929050565b60006020828403121561094a57600080fd5b5035919050565b6000806040838503121561096457600080fd5b82359150602083013561092d816108ea565b60006020828403121561098857600080fd5b81356108e3816108ea565b600080604083850312156109a657600080fd5b50508035926020909101359150565b600080604083850312156109c857600080fd5b505080516020909101519092909150565b634e487b7160e01b600052601160045260246000fd5b81810381811115610367576103676109d9565b8082028115828204841417610367576103676109d9565b600082610a3657634e487b7160e01b600052601260045260246000fd5b50049056fea2646970667358221220d9d7ccce979265d95c7f65a4a81d309d4e904dff8fc27d91a0417d934f5f57ef64736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
